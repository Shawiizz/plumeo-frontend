<div class="bg-surface-950 w-screen h-screen flex justify-center items-center">
  <div class="bg-surface-900 rounded-md flex p-10 px-12">
    <div class="flex flex-col w-full">
      <div class="flex items-center gap-2">
        <img src="/assets/images/icon.png" alt="Pluméo Icon" class="w-10 h-10" />
        <h1 class="text-primary">Pluméo</h1>
      </div>
      <div class="flex flex-col gap-1 mt-5">
        <div class="flex items-center gap-2 text-white">
          <span class="pi pi-shield"></span>
          <p>{{ 'features.privacy' | transloco }}</p>
        </div>
        <div class="flex items-center gap-2 text-white">
          <span class="pi pi-lock"></span>
          <p>{{ 'features.security' | transloco }}</p>
        </div>
        <div class="flex items-center gap-2 text-white">
          <span class="pi pi-desktop"></span>
          <p>{{ 'features.multiplatform' | transloco }}</p>
        </div>
      </div>
      <div class="flex flex-col mt-5">
        <div class="flex items-center gap-2 text-white hover:cursor-pointer underline">
          <span>{{ 'links.aboutUs' | transloco }}</span>
          <span class="pi pi-arrow-right"></span>
        </div>
        <div class="flex items-center gap-2 text-white hover:cursor-pointer underline">
          <span>{{ 'links.privacy' | transloco }}</span>
          <span class="pi pi-arrow-right"></span>
        </div>
      </div>
    </div>
    <div class="px-5">
      <p-divider layout="vertical" />
    </div>
    <div class="p-4 space-y-4 w-full">
      <h2 class="text-white font-bold text-md">{{ (isRegistering ? 'auth.register.title' : 'auth.login.title') | transloco }}</h2>
      <form (ngSubmit)="authenticate()" #authForm="ngForm" novalidate>
        <div class="flex flex-col gap-4">
          <div class="flex flex-col gap-2">
            <label for="email">{{ 'auth.login.email' | transloco }}</label>
            <input 
              pInputText 
              type="email" 
              id="email" 
              name="email" 
              [(ngModel)]="email" 
              required 
              [class.ng-invalid]="emailInvalid"
              [style.border-color]="emailInvalid ? '#ef4444' : ''" />
            @if (emailInvalid) {
              <small class="text-red-400 text-xs">
                {{ (!email ? ('auth.validation.emailRequired' | transloco) : ('auth.validation.emailInvalid' | transloco)) || 'Valid email is required' }}
              </small>
            }
          </div>
          @if (isRegistering) {
            <div class="flex flex-col gap-2">
              <label for="username">{{ 'auth.login.username' | transloco }}</label>
              <input 
                pInputText 
                type="text" 
                id="username" 
                name="username" 
                [(ngModel)]="username" 
                required 
                [class.ng-invalid]="usernameInvalid"
                [style.border-color]="usernameInvalid ? '#ef4444' : ''" />
              @if (usernameInvalid) {
                <small class="text-red-400 text-xs">
                  {{ ('auth.validation.usernameRequired' | transloco) || 'Username is required' }}
                </small>
              }
            </div>
          }
          <div class="flex flex-col gap-2">
            <label for="password">{{ 'auth.login.password' | transloco }}</label>
            <p-password 
              [(ngModel)]="password" 
              inputId="password" 
              name="password" 
              [toggleMask]="true" 
              [required]="true"
              [class.ng-invalid]="passwordInvalid"
              [style.border-color]="passwordInvalid ? '#ef4444' : ''" />
            @if (passwordInvalid) {
              <small class="text-red-400 text-xs">
                {{ ('auth.validation.passwordRequired' | transloco) || 'Password is required' }}
              </small>
            }
            <a href="#" class="text-xs">{{ 'auth.login.forgotPassword' | transloco }}</a>
          </div>
          <div class="w-full">
            <p-button 
              type="submit"
              [label]="(isRegistering ? 'auth.register.submit' : 'auth.login.submit') | transloco" 
              severity="contrast" 
              styleClass="w-full mx-auto"
              [loading]="isLoading"
              [disabled]="isLoading" />
          </div>
        </div>
      </form>
      <span (click)="isRegistering = !isRegistering" class="text-sm cursor-pointer">{{ (isRegistering ? 'auth.register.switchToLogin' : 'auth.login.switchToRegister') | transloco }}</span>
    </div>
  </div>
</div>
